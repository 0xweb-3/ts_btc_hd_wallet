# ts_btc_hd_wallet
比特币的HD钱包开发
## BTC领测试币
* https://coinfaucet.eu/en/btc-testnet/
* https://www.thefaucet.org/
* https://bitcoinfaucet.uo1.net/send.php
* https://tbtc.bitaps.com/

## 最小兑换单位比例
UTXO 的比特币数量，单位是 satoshi（1 BTC = 100,000,000 satoshi）。

## 测试网的区别
### 1. **测试网（Testnet）**

- **用途**: 测试网（Testnet）是一个专门用于开发和测试比特币相关应用的网络，用户可以在不花费真正比特币的情况下测试交易、合约等操作。它的比特币（tBTC）没有实际价值。
- **网络 ID**: `bitcoin.networks.testnet`
- 特点：
  - 测试网络的币称为“测试比特币”（testnet BTC），可以通过水龙头（faucet）免费获取。
  - 区块生成的难度较低，交易和区块确认速度较快。
  - 与主网相同的规则和结构，但是一个完全独立的网络。
- **用途场景**: 开发过程中，测试发送和接收比特币交易，模拟真实的比特币网络环境。

### 2. **Testnet4**

- **用途**: Testnet4 是一种特殊的测试网络，目前比特币社区中较少提及，基本上是类似 Testnet 的扩展或升级版本。它可能用于测试未来的比特币网络升级，但目前没有被广泛使用。
- **网络 ID**: `bitcoin.networks.testnet4`（如果存在支持）
- **特点**: 基本特性和 Testnet 类似，主要区别在于一些技术上的改动和改进，用于实验性开发。

### 3. **Signet**

- **用途**: Signet 是一种可控的测试网络，它通过集中管理的方式，由网络参与者协作签名生成区块。这使得 Signet 对于社区开发者来说更稳定，因为不会因为网络条件波动而导致难以获得确认。
- **网络 ID**: `bitcoin.networks.signet`
- 特点：
  - Signet 的区块由一个预先设置的参与者组签名，这确保了区块生成的可预测性和稳定性。
  - 非常适合需要稳定区块生成的开发和测试环境。
  - 也适用于测试高效性和复杂的脚本，而无需依赖随机性较高的 Testnet。
- **用途场景**: 如果需要在高度稳定的环境中进行开发和测试，特别是涉及复杂智能合约或多重签名等场景时，Signet 是理想的选择。

### 区别总结：

| 网络     | 用途                             | 主要特点                                 | 适用场景           |
| -------- | -------------------------------- | ---------------------------------------- | ------------------ |
| Testnet  | 普通测试网络，用于开发和测试应用 | 容易获取测试币，区块确认较快，随机性较高 | 常规测试           |
| Testnet4 | Testnet 的扩展版本，较少使用     | 类似 Testnet，但可能用于未来的升级测试   | 实验性开发         |
| Signet   | 稳定的测试网络，用于更复杂的场景 | 由集中的签名者控制区块生成，更稳定       | 高级测试、复杂脚本 |

## 当前测试网推荐使用的地址类型为
一般推荐使用 Bech32 (P2WPKH) 地址类型，因为它支持隔离见证，费用较低，效率较高。
如果您需要使用更复杂的脚本或多重签名，选择 P2SH。
对于高级功能或未来开发，您可以使用 Taproot 地址。

## 测试网浏览器
* https://mempool.space/testnet
* https://blockstream.info/testnet/


## 网络费用说明

返回的费用信息包含多个字段，每个字段代表不同的交易费用建议，具体含义如下：

1. **fastestFee**: 
   - 表示快速确认交易的费用（以 satoshis 为单位），通常用于希望在网络繁忙时尽快确认交易的用户。这是为了优先处理交易而支付的费用。

2. **halfHourFee**: 
   - 表示在半小时内确认交易的费用。这一费用通常会比最快费用低，适合那些希望在短时间内确认但不需要立即处理的交易。

3. **hourFee**: 
   - 表示在一小时内确认交易的费用。这是适合不急于确认交易的用户，可以在较长的时间内等待的费用。

4. **economyFee**: 
   - 表示经济实惠的费用，适用于那些不急于确认交易的用户，通常在较长的时间内确认。这是最低的建议费用，适合需要节省成本的交易。

5. **minimumFee**: 
   - 表示网络要求的最低费用。这是交易必须支付的最低费用，以便交易能够被网络接受。这一费用通常非常低，但在网络负载高时，可能不足以确保交易被快速确认。

以下是一个示例费用结构：

```json
{
  "fastestFee": 1159,
  "halfHourFee": 745,
  "hourFee": 525,
  "economyFee": 2,
  "minimumFee": 1
}
```

在这个例子中：
- 如果你希望尽快确认你的交易，你需要支付 **1159 satoshis** 的费用。
- 如果你能等待半小时，你可以选择 **745 satoshis** 的费用。
- 如果你不介意等待一小时，你只需要 **525 satoshis**。
- 如果你想以最经济的方式进行交易，**2 satoshis** 的费用可以在更长的时间内确认。
- 最后，交易的最低费用是 **1 satoshi**，这是网络允许的最低费用。

根据你的需求选择合适的费用：
- **急需确认**: 使用 `fastestFee`。
- **适度急需**: 使用 `halfHourFee` 或 `hourFee`。
- **节省成本**: 使用 `economyFee` 或 `minimumFee`，但要注意确认时间会相对较长。


## api文档
https://mempool.space/docs/api/rest

## BTC交易详解文档
* https://aandds.com/blog/bitcoin-tx.html#7cd69889

## 待补充
1. 处理发送交易找不到问题
2. 新增TAPROOT交易类型
3. 支持不同地址之间的互相转账
